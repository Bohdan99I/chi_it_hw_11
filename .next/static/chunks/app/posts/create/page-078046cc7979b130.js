(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{7645:function(e,t,r){Promise.resolve().then(r.bind(r,266))},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},266:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(3827),o=r(4090),n=r(7907),u=r(1126);function l(){let e=(0,n.useRouter)(),{data:t}=(0,u.useSession)(),[r,l]=(0,o.useState)(""),[i,a]=(0,o.useState)("");if(!t)return e.push("/auth/signin"),null;async function d(t){t.preventDefault();let r=new FormData(t.currentTarget),s=r.get("title"),o=r.get("description");try{let t=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:s,description:o,image:i})});if(t.ok)e.push("/"),e.refresh();else{let e=await t.json();l(e.error)}}catch(e){console.error("An error occurred:",e)}}return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Створити новий пост"}),(0,s.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[r&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:r}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Назва"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Опис"}),(0,s.jsx)("textarea",{id:"description",name:"description",rows:4,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"URL зображення"}),(0,s.jsx)("input",{type:"url",id:"image",value:i,onChange:e=>a(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Створити пост"})]})]})}}},function(e){e.O(0,[126,971,69,744],function(){return e(e.s=7645)}),_N_E=e.O()}]);